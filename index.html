<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Zotgle</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script>
        async function fetchSuggestions(input) {
            const res = await fetch(`/autocomplete?term=${input}`);
            const suggestions = await res.json();
            const list = document.getElementById('suggestions');
            list.innerHTML = '';
            suggestions.forEach(item => {
                const li = document.createElement('li');
                li.textContent = item;
                li.onclick = () => {
                    document.getElementById('searchInput').value = item;
                    list.innerHTML = '';
                };
                list.appendChild(li);
            });
        }
    </script>
</head>
<body>
    <div class="container">
        <h1>Zotgle</h1>
        <form action="/search" method="get">
            <input type="text" id="searchInput" name="q" placeholder="Search..." oninput="fetchSuggestions(this.value)" autocomplete="off">
            <input type="submit" value="Search">
        </form>
        <ul id="suggestions"></ul>
    </div>
</body>
</html>